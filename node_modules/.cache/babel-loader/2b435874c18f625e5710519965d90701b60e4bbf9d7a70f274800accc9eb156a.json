{"ast":null,"code":"import _objectSpread from\"C:/Users/trand/Documents/site_crr/site/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{Box,Typography,Button,TextField,Alert,CircularProgress}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OpenStreetMapLocationPicker=_ref=>{let{open,onClose,onLocationSelect,initialLocation}=_ref;const mapRef=useRef(null);const[map,setMap]=useState(null);const[marker,setMarker]=useState(null);const[loading,setLoading]=useState(false);const[mapError,setMapError]=useState(false);useEffect(()=>{if(open&&mapRef.current&&!map){// Load Leaflet dynamically to avoid SSR issues\nimport('leaflet').then(L=>{// Fix for default markers\ndelete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',iconUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',shadowUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'});const newMap=L.map(mapRef.current).setView(initialLocation?[initialLocation.lat,initialLocation.lng]:[44.4268,26.1025],// Bucharest\n13);// Primary tile layer (CartoDB - more permissive)\nconst primaryLayer=L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',{attribution:'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',subdomains:'abcd',maxZoom:20});// Fallback tile layer (OpenStreetMap with proper attribution)\nconst fallbackLayer=L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',maxZoom:19});// Try primary layer first, fallback if it fails\nprimaryLayer.addTo(newMap);// Add fallback layer as backup\nprimaryLayer.on('tileerror',()=>{if(newMap.hasLayer(primaryLayer)){newMap.removeLayer(primaryLayer);fallbackLayer.addTo(newMap);}});// Add initial marker if location exists\nif(initialLocation){const initialMarker=L.marker([initialLocation.lat,initialLocation.lng]).addTo(newMap).bindPopup(initialLocation.name);setMarker(initialMarker);}// Add click event listener\nnewMap.on('click',e=>{const{lat,lng}=e.latlng;// Remove existing marker\nif(marker){newMap.removeLayer(marker);}// Add new marker\nconst newMarker=L.marker([lat,lng]).addTo(newMap);setMarker(newMarker);// Reverse geocoding using Nominatim (free)\nsetLoading(true);fetch(\"https://nominatim.openstreetmap.org/reverse?format=json&lat=\".concat(lat,\"&lon=\").concat(lng,\"&addressdetails=1\")).then(response=>response.json()).then(data=>{var _data$display_name;const address=data.display_name||'Adresa nu a putut fi determinată';const locationName=data.name||((_data$display_name=data.display_name)===null||_data$display_name===void 0?void 0:_data$display_name.split(',')[0])||'Locație selectată';newMarker.bindPopup(locationName).openPopup();onLocationSelect({name:locationName,address:address,lat:lat,lng:lng});setLoading(false);}).catch(error=>{console.error('Geocoding error:',error);// Fallback with coordinates only\nconst fallbackName=\"Loca\\u021Bie (\".concat(lat.toFixed(4),\", \").concat(lng.toFixed(4),\")\");const fallbackAddress=\"Coordonate: \".concat(lat.toFixed(6),\", \").concat(lng.toFixed(6));newMarker.bindPopup(fallbackName).openPopup();onLocationSelect({name:fallbackName,address:fallbackAddress,lat:lat,lng:lng});setLoading(false);});});setMap(newMap);}).catch(error=>{console.error('Failed to load Leaflet:',error);setMapError(true);});}return()=>{if(map){map.remove();setMap(null);setMarker(null);}};},[open,initialLocation,onLocationSelect,map,marker]);if(!open)return null;return/*#__PURE__*/_jsx(Box,{sx:{position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.5)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:9999},children:/*#__PURE__*/_jsxs(Box,{sx:{backgroundColor:'white',borderRadius:2,padding:3,maxWidth:'90vw',maxHeight:'90vh',width:'800px',overflow:'auto'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Selecta\\u021Bi Loca\\u021Bia pe Hart\\u0103\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:2},children:\"Face\\u021Bi clic pe hart\\u0103 pentru a selecta loca\\u021Bia evenimentului (OpenStreetMap - gratuit)\"}),mapError?/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",py:4,children:[/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:\"Nu s-a putut \\xEEnc\\u0103rca harta. V\\u0103 rug\\u0103m s\\u0103 introduce\\u021Bi manual loca\\u021Bia.\"}),/*#__PURE__*/_jsx(ManualLocationInput,{onLocationSelect:onLocationSelect})]}):/*#__PURE__*/_jsxs(Box,{sx:{height:'400px',width:'100%',position:'relative'},children:[loading&&/*#__PURE__*/_jsxs(Box,{sx:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(255, 255, 255, 0.8)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:1000},children:[/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{ml:2},children:\"Se proceseaz\\u0103 loca\\u021Bia...\"})]}),/*#__PURE__*/_jsx(\"div\",{ref:mapRef,style:{height:'100%',width:'100%',minHeight:'400px'}})]}),/*#__PURE__*/_jsx(Box,{display:\"flex\",gap:2,sx:{mt:2},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>onLocationSelect(null),disabled:loading,children:\"Anuleaz\\u0103\"})})]})});};const ManualLocationInput=_ref2=>{let{onLocationSelect}=_ref2;const[formData,setFormData]=useState({name:'',address:'',lat:'',lng:''});const handleSubmit=e=>{e.preventDefault();if(formData.name&&formData.address&&formData.lat&&formData.lng){onLocationSelect({name:formData.name,address:formData.address,lat:parseFloat(formData.lat),lng:parseFloat(formData.lng)});}};return/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Introduce\\u021Bi manual loca\\u021Bia\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Numele loca\\u021Biei\",value:formData.name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{name:e.target.value})),margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Adresa complet\\u0103\",value:formData.address,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{address:e.target.value})),margin:\"normal\",required:true}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:2,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Latitudine\",type:\"number\",value:formData.lat,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{lat:e.target.value})),margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Longitudine\",type:\"number\",value:formData.lng,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{lng:e.target.value})),margin:\"normal\",required:true})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",sx:{mt:2},children:\"Confirm\\u0103 Loca\\u021Bia\"})]});};export default OpenStreetMapLocationPicker;","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","Typography","Button","TextField","Alert","CircularProgress","jsx","_jsx","jsxs","_jsxs","OpenStreetMapLocationPicker","_ref","open","onClose","onLocationSelect","initialLocation","mapRef","map","setMap","marker","setMarker","loading","setLoading","mapError","setMapError","current","then","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","newMap","setView","lat","lng","primaryLayer","tileLayer","attribution","subdomains","maxZoom","fallbackLayer","addTo","on","hasLayer","removeLayer","initialMarker","bindPopup","name","e","latlng","newMarker","fetch","concat","response","json","data","_data$display_name","address","display_name","locationName","split","openPopup","catch","error","console","fallbackName","toFixed","fallbackAddress","remove","sx","position","top","left","right","bottom","backgroundColor","display","justifyContent","alignItems","zIndex","children","borderRadius","padding","maxWidth","maxHeight","width","overflow","variant","gutterBottom","color","mb","textAlign","py","severity","ManualLocationInput","height","ml","ref","style","minHeight","gap","mt","onClick","disabled","_ref2","formData","setFormData","handleSubmit","preventDefault","parseFloat","component","onSubmit","fullWidth","label","value","onChange","_objectSpread","target","margin","required","type"],"sources":["C:/Users/trand/Documents/site_crr/site/src/components/OpenStreetMapLocationPicker.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  TextField,\r\n  Alert,\r\n  CircularProgress\r\n} from '@mui/material';\r\n\r\nconst OpenStreetMapLocationPicker = ({ open, onClose, onLocationSelect, initialLocation }) => {\r\n  const mapRef = useRef(null);\r\n  const [map, setMap] = useState(null);\r\n  const [marker, setMarker] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [mapError, setMapError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (open && mapRef.current && !map) {\r\n      // Load Leaflet dynamically to avoid SSR issues\r\n      import('leaflet').then((L) => {\r\n        // Fix for default markers\r\n        delete L.Icon.Default.prototype._getIconUrl;\r\n        L.Icon.Default.mergeOptions({\r\n          iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\r\n          iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n          shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n        });\r\n\r\n        const newMap = L.map(mapRef.current).setView(\r\n          initialLocation ? [initialLocation.lat, initialLocation.lng] : [44.4268, 26.1025], // Bucharest\r\n          13\r\n        );\r\n\r\n        // Primary tile layer (CartoDB - more permissive)\r\n        const primaryLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {\r\n          attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\r\n          subdomains: 'abcd',\r\n          maxZoom: 20\r\n        });\r\n\r\n        // Fallback tile layer (OpenStreetMap with proper attribution)\r\n        const fallbackLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n          attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\r\n          maxZoom: 19\r\n        });\r\n\r\n        // Try primary layer first, fallback if it fails\r\n        primaryLayer.addTo(newMap);\r\n        \r\n        // Add fallback layer as backup\r\n        primaryLayer.on('tileerror', () => {\r\n          if (newMap.hasLayer(primaryLayer)) {\r\n            newMap.removeLayer(primaryLayer);\r\n            fallbackLayer.addTo(newMap);\r\n          }\r\n        });\r\n\r\n        // Add initial marker if location exists\r\n        if (initialLocation) {\r\n          const initialMarker = L.marker([initialLocation.lat, initialLocation.lng])\r\n            .addTo(newMap)\r\n            .bindPopup(initialLocation.name);\r\n          setMarker(initialMarker);\r\n        }\r\n\r\n        // Add click event listener\r\n        newMap.on('click', (e) => {\r\n          const { lat, lng } = e.latlng;\r\n          \r\n          // Remove existing marker\r\n          if (marker) {\r\n            newMap.removeLayer(marker);\r\n          }\r\n\r\n          // Add new marker\r\n          const newMarker = L.marker([lat, lng]).addTo(newMap);\r\n          setMarker(newMarker);\r\n\r\n          // Reverse geocoding using Nominatim (free)\r\n          setLoading(true);\r\n          fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&addressdetails=1`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n              const address = data.display_name || 'Adresa nu a putut fi determinată';\r\n              const locationName = data.name || data.display_name?.split(',')[0] || 'Locație selectată';\r\n              \r\n              newMarker.bindPopup(locationName).openPopup();\r\n              \r\n              onLocationSelect({\r\n                name: locationName,\r\n                address: address,\r\n                lat: lat,\r\n                lng: lng\r\n              });\r\n              setLoading(false);\r\n            })\r\n            .catch(error => {\r\n              console.error('Geocoding error:', error);\r\n              // Fallback with coordinates only\r\n              const fallbackName = `Locație (${lat.toFixed(4)}, ${lng.toFixed(4)})`;\r\n              const fallbackAddress = `Coordonate: ${lat.toFixed(6)}, ${lng.toFixed(6)}`;\r\n              \r\n              newMarker.bindPopup(fallbackName).openPopup();\r\n              \r\n              onLocationSelect({\r\n                name: fallbackName,\r\n                address: fallbackAddress,\r\n                lat: lat,\r\n                lng: lng\r\n              });\r\n              setLoading(false);\r\n            });\r\n        });\r\n\r\n        setMap(newMap);\r\n      }).catch(error => {\r\n        console.error('Failed to load Leaflet:', error);\r\n        setMapError(true);\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      if (map) {\r\n        map.remove();\r\n        setMap(null);\r\n        setMarker(null);\r\n      }\r\n    };\r\n  }, [open, initialLocation, onLocationSelect, map, marker]);\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        zIndex: 9999\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          backgroundColor: 'white',\r\n          borderRadius: 2,\r\n          padding: 3,\r\n          maxWidth: '90vw',\r\n          maxHeight: '90vh',\r\n          width: '800px',\r\n          overflow: 'auto'\r\n        }}\r\n      >\r\n        <Typography variant=\"h5\" gutterBottom>\r\n          Selectați Locația pe Hartă\r\n        </Typography>\r\n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n          Faceți clic pe hartă pentru a selecta locația evenimentului (OpenStreetMap - gratuit)\r\n        </Typography>\r\n        \r\n        {mapError ? (\r\n          <Box textAlign=\"center\" py={4}>\r\n            <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n              Nu s-a putut încărca harta. Vă rugăm să introduceți manual locația.\r\n            </Alert>\r\n            <ManualLocationInput onLocationSelect={onLocationSelect} />\r\n          </Box>\r\n        ) : (\r\n          <Box sx={{ height: '400px', width: '100%', position: 'relative' }}>\r\n            {loading && (\r\n              <Box\r\n                sx={{\r\n                  position: 'absolute',\r\n                  top: 0,\r\n                  left: 0,\r\n                  right: 0,\r\n                  bottom: 0,\r\n                  backgroundColor: 'rgba(255, 255, 255, 0.8)',\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                  zIndex: 1000\r\n                }}\r\n              >\r\n                <CircularProgress />\r\n                <Typography variant=\"body2\" sx={{ ml: 2 }}>\r\n                  Se procesează locația...\r\n                </Typography>\r\n              </Box>\r\n            )}\r\n            \r\n            <div \r\n              ref={mapRef} \r\n              style={{ \r\n                height: '100%', \r\n                width: '100%',\r\n                minHeight: '400px'\r\n              }} \r\n            />\r\n          </Box>\r\n        )}\r\n\r\n        <Box display=\"flex\" gap={2} sx={{ mt: 2 }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={() => onLocationSelect(null)}\r\n            disabled={loading}\r\n          >\r\n            Anulează\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst ManualLocationInput = ({ onLocationSelect }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    address: '',\r\n    lat: '',\r\n    lng: ''\r\n  });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (formData.name && formData.address && formData.lat && formData.lng) {\r\n      onLocationSelect({\r\n        name: formData.name,\r\n        address: formData.address,\r\n        lat: parseFloat(formData.lat),\r\n        lng: parseFloat(formData.lng)\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 2 }}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Introduceți manual locația\r\n      </Typography>\r\n      <TextField\r\n        fullWidth\r\n        label=\"Numele locației\"\r\n        value={formData.name}\r\n        onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n        margin=\"normal\"\r\n        required\r\n      />\r\n      <TextField\r\n        fullWidth\r\n        label=\"Adresa completă\"\r\n        value={formData.address}\r\n        onChange={(e) => setFormData({ ...formData, address: e.target.value })}\r\n        margin=\"normal\"\r\n        required\r\n      />\r\n      <Box display=\"flex\" gap={2}>\r\n        <TextField\r\n          fullWidth\r\n          label=\"Latitudine\"\r\n          type=\"number\"\r\n          value={formData.lat}\r\n          onChange={(e) => setFormData({ ...formData, lat: e.target.value })}\r\n          margin=\"normal\"\r\n          required\r\n        />\r\n        <TextField\r\n          fullWidth\r\n          label=\"Longitudine\"\r\n          type=\"number\"\r\n          value={formData.lng}\r\n          onChange={(e) => setFormData({ ...formData, lng: e.target.value })}\r\n          margin=\"normal\"\r\n          required\r\n        />\r\n      </Box>\r\n      <Button type=\"submit\" variant=\"contained\" sx={{ mt: 2 }}>\r\n        Confirmă Locația\r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default OpenStreetMapLocationPicker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}