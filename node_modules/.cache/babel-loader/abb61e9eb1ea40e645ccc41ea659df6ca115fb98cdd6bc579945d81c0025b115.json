{"ast":null,"code":"import _objectSpread from\"C:/Users/trand/Documents/site_crr/site/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Box,Typography,Card,CardContent,Button,Alert,CircularProgress,Select,MenuItem,FormControl,InputLabel,TextField}from'@mui/material';import{useParams,useNavigate}from'react-router-dom';import{useAuth}from'../AuthContext';import{getUserProfile,updateMyDetasament,addCertificate,removeCertificate,downloadIndicativ,downloadIdCard,uploadPhoto,updatePersonalInfo,setup2FA,enable2FA,disable2FA,getUserEvents,downloadMyActivity,addExperience,removeExperience,downloadMyVolunteerContract}from'../api';import QRCode from'qrcode';import ScutireForm from'./ScutireForm';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Profile(){const{indicator}=useParams();const{user:currentUser}=useAuth();const navigate=useNavigate();const[profileUser,setProfileUser]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[qrCodeUrl,setQrCodeUrl]=useState('');const[editingDetasament,setEditingDetasament]=useState(false);const[editingCertificate,setEditingCertificate]=useState(false);const[certificateType,setCertificateType]=useState('');const[certificateNumber,setCertificateNumber]=useState('');const[editingPersonalInfo,setEditingPersonalInfo]=useState(false);const[domiciliu,setDomiciliu]=useState('');const[resedinta,setResedinta]=useState('');const[twoFactorCode,setTwoFactorCode]=useState('');const[userEvents,setUserEvents]=useState([]);const[qrDataUrl,setQrDataUrl]=useState('');const[fromDate,setFromDate]=useState('');const[toDate,setToDate]=useState('');const[editingExperience,setEditingExperience]=useState(false);const[experienceType,setExperienceType]=useState('');const[showPhotoUpload,setShowPhotoUpload]=useState(false);const[selectedPhoto,setSelectedPhoto]=useState(null);const[uploadingPhoto,setUploadingPhoto]=useState(false);const[showScutireForm,setShowScutireForm]=useState(false);const[successMessage,setSuccessMessage]=useState('');useEffect(()=>{async function loadProfile(){try{setLoading(true);setError('');// If no indicator in URL, use current user's indicator\nconst targetIndicator=indicator||(currentUser===null||currentUser===void 0?void 0:currentUser.indicator);if(!targetIndicator){setError('Indicativul nu a fost gƒÉsit');setLoading(false);return;}// Fetch user profile from backend\nconst response=await getUserProfile(targetIndicator);const userData=response.data;setProfileUser(userData);setDomiciliu(userData.domiciliu||'');setResedinta(userData.resedinta||'');// Fetch user events\ntry{const eventsResponse=await getUserEvents(targetIndicator);setUserEvents(eventsResponse.data||[]);}catch(err){console.error('Error fetching user events:',err);setUserEvents([]);}// Generate QR code (pointing to public profile for sharing)\nconst profileUrl=\"\".concat(window.location.origin,\"/public/profile/\").concat(targetIndicator);const qrCodeDataUrl=await QRCode.toDataURL(profileUrl,{width:256,margin:2,color:{dark:'#000000',light:'#FFFFFF'}});setQrCodeUrl(qrCodeDataUrl);}catch(err){var _err$response,_err$response2;console.error('Error loading profile:',err);if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===404){setError('Profilul nu a fost gƒÉsit');}else if(((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status)===400){setError('Format indicativ invalid');}else{setError('Eroare la √ÆncƒÉrcarea profilului');}}finally{setLoading(false);}}if(currentUser){loadProfile();}},[indicator,currentUser]);const handleDownloadQR=()=>{if(qrCodeUrl){const link=document.createElement('a');link.download=\"profile-\".concat(profileUser===null||profileUser===void 0?void 0:profileUser.indicator,\"-qr.png\");link.href=qrCodeUrl;link.click();}};const handleUpdateDetasament=async newDetasament=>{try{await updateMyDetasament(newDetasament);setProfileUser(prev=>_objectSpread(_objectSpread({},prev),{},{detasament:newDetasament}));setEditingDetasament(false);}catch(err){setError('Eroare la actualizarea detasamentului');}};const handleAddCertificate=async()=>{try{if(!certificateType||!certificateNumber){setError('Completa»õi toate c√¢mpurile');return;}await addCertificate(certificateType,certificateNumber);setProfileUser(prev=>_objectSpread(_objectSpread({},prev),{},{certificates:[...(prev.certificates||[]),{type:certificateType,number:certificateNumber,addedAt:new Date()}],hasFirstAidCertificate:true}));setEditingCertificate(false);setCertificateType('');setCertificateNumber('');}catch(err){var _err$response3,_err$response3$data;setError(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.msg)||'Eroare la salvarea certificatului');}};const handleRemoveCertificate=async type=>{try{await removeCertificate(type);setProfileUser(prev=>_objectSpread(_objectSpread({},prev),{},{certificates:(prev.certificates||[]).filter(cert=>cert.type!==type),hasFirstAidCertificate:(prev.certificates||[]).filter(cert=>cert.type!==type).length>0}));}catch(err){var _err$response4,_err$response4$data;setError(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.msg)||'Eroare la »ôtergerea certificatului');}};const getDetasamentColor=detasament=>{const colors={'Voluntar':'#666666',// Basic gray\n'Acordare PA':'#f44336',// Red\n'Acordare PAP':'#ffeb3b',// Yellow\n'Detasament':'#000000',// Black\n'Comunicare':'#e91e63',// Pink\n'Logistic':'#4caf50',// Green\n'Management':'#2196f3'// Blue\n};return colors[detasament]||'#666666';};const getCertificateEmoji=type=>{const emojis={'PA':'‚õëÔ∏è','PAP':'ü´Ç','Detasament':'‚ö´'};return emojis[type]||'';};const handleDownloadIndicativ=async()=>{try{const response=await downloadIndicativ();// Create blob from response\nconst blob=new Blob([response.data],{type:'application/pdf'});// Create download link\nconst url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=\"indicativ_\".concat((profileUser===null||profileUser===void 0?void 0:profileUser.indicator)||'user',\".pdf\");// Trigger download\ndocument.body.appendChild(link);link.click();// Cleanup\ndocument.body.removeChild(link);window.URL.revokeObjectURL(url);}catch(err){console.error('Error downloading indicative:',err);setError('Eroare la descƒÉrcarea indicativului');}};const handleDownloadIdCard=async()=>{try{// Check if user has a photo, if not show upload modal\nif(!profileUser.photo){setShowPhotoUpload(true);return;}const response=await downloadIdCard();// Create blob from response\nconst blob=new Blob([response.data],{type:'application/pdf'});// Create download link\nconst url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=\"ecuson_\".concat((profileUser===null||profileUser===void 0?void 0:profileUser.indicator)||'user',\".pdf\");// Trigger download\ndocument.body.appendChild(link);link.click();// Cleanup\ndocument.body.removeChild(link);window.URL.revokeObjectURL(url);}catch(err){console.error('Error downloading ID card:',err);setError('Eroare la descƒÉrcarea ecusonului');}};const handlePhotoUpload=async()=>{if(!selectedPhoto){setError('Selectati o fotografie');return;}try{setUploadingPhoto(true);const response=await uploadPhoto(selectedPhoto);// Update profile user with new photo\nsetProfileUser(prev=>_objectSpread(_objectSpread({},prev),{},{photo:response.data.photo}));setSelectedPhoto(null);setShowPhotoUpload(false);// Show success message\nsetError('');// Clear any previous errors\n}catch(err){var _err$response5,_err$response5$data;console.error('Error uploading photo:',err);setError(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.msg)||'Eroare la incarcarea fotografiei');}finally{setUploadingPhoto(false);}};const handlePhotoSelect=event=>{const file=event.target.files[0];if(file){setSelectedPhoto(file);}};const handleUpdatePersonalInfo=async()=>{try{await updatePersonalInfo(domiciliu,resedinta);setProfileUser(prev=>_objectSpread(_objectSpread({},prev),{},{domiciliu,resedinta}));setEditingPersonalInfo(false);}catch(err){setError('Eroare la actualizarea informa»õiilor personale');}};const handleSetup2FA=async()=>{try{var _res$data;const res=await setup2FA();if(res!==null&&res!==void 0&&(_res$data=res.data)!==null&&_res$data!==void 0&&_res$data.qrDataUrl){setQrDataUrl(res.data.qrDataUrl);}}catch(err){console.error('Error setting up 2FA:',err);setError('Eroare la configurarea 2FA');}};const handleEnable2FA=async()=>{try{var _res$data2;const res=await enable2FA(twoFactorCode);if(res!==null&&res!==void 0&&(_res$data2=res.data)!==null&&_res$data2!==void 0&&_res$data2.user){setProfileUser(prev=>_objectSpread(_objectSpread({},prev),{},{twoFactorEnabled:true}));setTwoFactorCode('');setQrDataUrl('');}}catch(err){console.error('Error enabling 2FA:',err);setError('Eroare la activarea 2FA');}};const handleDisable2FA=async()=>{try{var _res$data3;const res=await disable2FA();if(res!==null&&res!==void 0&&(_res$data3=res.data)!==null&&_res$data3!==void 0&&_res$data3.user){setProfileUser(prev=>_objectSpread(_objectSpread({},prev),{},{twoFactorEnabled:false}));}}catch(err){setError('Eroare la dezactivarea 2FA');}};const handleDownloadActivity=async()=>{try{const response=await downloadMyActivity(fromDate,toDate);// Create blob from response (PDF data)\nconst blob=new Blob([response.data],{type:'application/pdf'});// Create download link\nconst url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=\"activitatea_\".concat((profileUser===null||profileUser===void 0?void 0:profileUser.indicator)||'user',\".pdf\");// Trigger download\ndocument.body.appendChild(link);link.click();// Cleanup\ndocument.body.removeChild(link);window.URL.revokeObjectURL(url);}catch(err){console.error('Error downloading activity:',err);setError('Eroare la descƒÉrcarea activitƒÉ»õii');}};const handleDownloadContract=async()=>{try{const response=await downloadMyVolunteerContract();// Create blob from response\nconst blob=new Blob([response.data],{type:'application/pdf'});// Create download link\nconst url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=\"contract-voluntar-\".concat((profileUser===null||profileUser===void 0?void 0:profileUser.indicator)||'user',\".pdf\");// Trigger download\ndocument.body.appendChild(link);link.click();// Cleanup\ndocument.body.removeChild(link);window.URL.revokeObjectURL(url);}catch(err){console.error('Error downloading contract:',err);setError('Eroare la descƒÉrcarea contractului');}};const handleAddExperience=async()=>{try{if(!experienceType){setError('Selecta»õi tipul de experien»õƒÉ');return;}await addExperience(experienceType);setProfileUser(prev=>_objectSpread(_objectSpread({},prev),{},{experiences:[...(prev.experiences||[]),{type:experienceType,addedAt:new Date()}]}));setEditingExperience(false);setExperienceType('');}catch(err){var _err$response6,_err$response6$data;setError(((_err$response6=err.response)===null||_err$response6===void 0?void 0:(_err$response6$data=_err$response6.data)===null||_err$response6$data===void 0?void 0:_err$response6$data.msg)||'Eroare la salvarea experien»õei');}};const handleRemoveExperience=async type=>{try{await removeExperience(type);setProfileUser(prev=>_objectSpread(_objectSpread({},prev),{},{experiences:(prev.experiences||[]).filter(exp=>exp.type!==type)}));}catch(err){var _err$response7,_err$response7$data;setError(((_err$response7=err.response)===null||_err$response7===void 0?void 0:(_err$response7$data=_err$response7.data)===null||_err$response7$data===void 0?void 0:_err$response7$data.msg)||'Eroare la »ôtergerea experien»õei');}};if(loading){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"400px\",children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(error){return/*#__PURE__*/_jsxs(Box,{maxWidth:600,mx:\"auto\",mt:4,children:[/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>navigate('/dashboard'),sx:{mt:2},children:\"\\xCEnapoi la Dashboard\"})]});}if(!profileUser){return/*#__PURE__*/_jsxs(Box,{maxWidth:600,mx:\"auto\",mt:4,children:[/*#__PURE__*/_jsx(Alert,{severity:\"warning\",children:\"Profilul nu a fost g\\u0103sit\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>navigate('/dashboard'),sx:{mt:2},children:\"\\xCEnapoi la Dashboard\"})]});}return/*#__PURE__*/_jsxs(Box,{maxWidth:800,mx:\"auto\",mt:4,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",mb:3,children:\"Profil Utilizator\"}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:3,flexWrap:\"wrap\",children:[/*#__PURE__*/_jsx(Card,{sx:{flex:1,minWidth:300},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",mb:2,children:\"Informa\\u021Bii Personale\"}),/*#__PURE__*/_jsxs(Box,{mb:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Indicativ\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"primary\",fontWeight:\"bold\",children:profileUser.indicator})]}),/*#__PURE__*/_jsxs(Box,{mb:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Nume Complet\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:profileUser.name})]}),/*#__PURE__*/_jsxs(Box,{mb:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Detasament\"}),editingDetasament?/*#__PURE__*/_jsx(FormControl,{fullWidth:true,size:\"small\",children:/*#__PURE__*/_jsxs(Select,{value:profileUser.detasament,onChange:e=>handleUpdateDetasament(e.target.value),onClose:()=>setEditingDetasament(false),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"Voluntar\",children:\"Voluntar\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Comunicare\",children:\"Comunicare\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Logistic\",children:\"Logistic\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Detasament\",children:\"Detasament\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Acordare PA\",children:\"Acordare PA\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Acordare PAP\",children:\"Acordare PAP\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Management\",children:\"Management\"})]})}):/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",gap:1,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{color:getDetasamentColor(profileUser.detasament),fontWeight:'bold'},children:profileUser.detasament}),currentUser&&currentUser.indicator===profileUser.indicator&&/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:()=>setEditingDetasament(true),children:\"Editeaz\\u0103\"})]})]}),/*#__PURE__*/_jsxs(Box,{mb:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Informa\\u021Bii Personale\"}),editingPersonalInfo?/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(TextField,{label:\"Domiciliu (din buletin)\",value:domiciliu,onChange:e=>setDomiciliu(e.target.value),fullWidth:true,size:\"small\",sx:{mb:1}}),/*#__PURE__*/_jsx(TextField,{label:\"Re\\u0219edin\\u021Ba (unde locuie\\u0219ti)\",value:resedinta,onChange:e=>setResedinta(e.target.value),fullWidth:true,size:\"small\",sx:{mb:1}}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:1,children:[/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"contained\",onClick:handleUpdatePersonalInfo,children:\"Salveaz\\u0103\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",onClick:()=>setEditingPersonalInfo(false),children:\"Anuleaz\\u0103\"})]})]}):/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",mb:1,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Domiciliu (din buletin):\"}),\" \",profileUser.domiciliu||'Nu este specificat']}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",mb:1,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Re\\u0219edin\\u021Ba (unde locuie\\u0219ti):\"}),\" \",profileUser.resedinta||'Nu este specificat']}),currentUser&&currentUser.indicator===profileUser.indicator&&/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:()=>setEditingPersonalInfo(true),children:\"Editeaz\\u0103\"})]})]}),/*#__PURE__*/_jsxs(Box,{mb:2,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Certificate\"}),profileUser.hasFirstAidCertificate&&profileUser.certificates&&profileUser.certificates.length>0?/*#__PURE__*/_jsxs(Box,{children:[profileUser.certificates.map((cert,index)=>/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",gap:1,mb:1,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:getCertificateEmoji(cert.type)}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[cert.type,\" - \",cert.number]}),currentUser&&currentUser.indicator===profileUser.indicator&&/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"error\",onClick:()=>handleRemoveCertificate(cert.type),children:\"\\u0218terge\"})]},index)),currentUser&&currentUser.indicator===profileUser.indicator&&profileUser.certificates.length<3&&/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",onClick:()=>setEditingCertificate(true),sx:{mt:1},children:\"Adaug\\u0103 Certificat\"})]}):/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",mb:1,children:\"Nu ave\\u021Bi certificate\"}),currentUser&&currentUser.indicator===profileUser.indicator&&/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",onClick:()=>setEditingCertificate(true),children:\"Adaug\\u0103 Certificat\"})]})]}),editingCertificate&&/*#__PURE__*/_jsxs(Box,{mt:3,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",mb:2,children:\"Adaug\\u0103 Certificat Prim Ajutor\"}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:2,flexWrap:\"wrap\",children:[/*#__PURE__*/_jsxs(FormControl,{sx:{minWidth:150},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Tip Certificat\"}),/*#__PURE__*/_jsxs(Select,{value:certificateType,onChange:e=>setCertificateType(e.target.value),label:\"Tip Certificat\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"PA\",children:\"Certificat PA \\u26D1\\uFE0F\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"PAP\",children:\"Certificat PAP \\uD83E\\uDEC2\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Detasament\",children:\"Certificat Detasament \\u26AB\"})]})]}),/*#__PURE__*/_jsx(TextField,{label:\"Num\\u0103r Certificat\",value:certificateNumber,onChange:e=>setCertificateNumber(e.target.value),sx:{minWidth:200}}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:1,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleAddCertificate,disabled:!certificateType||!certificateNumber,children:\"Salveaz\\u0103\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>{setEditingCertificate(false);setCertificateType('');setCertificateNumber('');},children:\"Anuleaz\\u0103\"})]})]})]})]})}),/*#__PURE__*/_jsx(Card,{sx:{flex:0,minWidth:300},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",mb:2,children:\"Cod QR Profil\"}),qrCodeUrl&&/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",children:[/*#__PURE__*/_jsx(Box,{component:\"img\",src:qrCodeUrl,alt:\"Profile QR Code\",sx:{maxWidth:'100%',height:'auto',border:'1px solid #e0e0e0',borderRadius:1,mb:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",mb:2,children:\"Scaneaz\\u0103 acest cod QR pentru a accesa acest profil\"}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:1,flexDirection:\"column\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:handleDownloadQR,fullWidth:true,children:\"Descarc\\u0103 Cod QR\"}),currentUser&&currentUser.indicator===profileUser.indicator&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleDownloadIndicativ,fullWidth:true,children:\"Descarc\\u0103 Indicativ\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"error\",onClick:handleDownloadIdCard,fullWidth:true,children:\"Descarc\\u0103 Ecuson\"}),profileUser.volunteerPdf&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",onClick:handleDownloadContract,fullWidth:true,sx:{mb:1},children:\"Descarc\\u0103 Contract\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>setShowScutireForm(true),fullWidth:true,sx:{mb:1},children:\"Genereaz\\u0103 Scutire\"})]})]})]})]})}),/*#__PURE__*/_jsx(Card,{sx:{flex:1,minWidth:300},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",mb:2,children:\"Experien\\u021B\\u0103\"}),profileUser.experiences&&profileUser.experiences.length>0?/*#__PURE__*/_jsxs(Box,{children:[profileUser.experiences.map((exp,index)=>/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",gap:1,mb:1,children:[/*#__PURE__*/_jsx(Box,{sx:{width:12,height:12,backgroundColor:exp.type==='Permis de conducere'?'#2196f3':exp.type==='Apt sa acorzi PA'?'#f44336':'#e91e63',borderRadius:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:exp.type}),currentUser&&currentUser.indicator===profileUser.indicator&&/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"error\",onClick:()=>handleRemoveExperience(exp.type),sx:{ml:'auto'},children:\"\\u0218terge\"})]},index)),currentUser&&currentUser.indicator===profileUser.indicator&&/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",onClick:()=>setEditingExperience(true),sx:{mt:1},children:\"Adaug\\u0103 Experien\\u021B\\u0103\"})]}):/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",mb:1,children:\"Nu exist\\u0103 experien\\u021B\\u0103 \\xEEnregistrat\\u0103\"}),currentUser&&currentUser.indicator===profileUser.indicator&&/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",onClick:()=>setEditingExperience(true),children:\"Adaug\\u0103 Experien\\u021B\\u0103\"})]}),editingExperience&&/*#__PURE__*/_jsxs(Box,{mt:3,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",mb:2,children:\"Adaug\\u0103 Experien\\u021B\\u0103\"}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:2,flexWrap:\"wrap\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(FormControl,{sx:{minWidth:200},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Tip Experien\\u021B\\u0103\"}),/*#__PURE__*/_jsxs(Select,{value:experienceType,onChange:e=>setExperienceType(e.target.value),label:\"Tip Experien\\u021B\\u0103\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"Permis de conducere\",children:\"Permis de conducere\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Apt sa acorzi PA\",children:\"Apt sa acorzi PA\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Apt sa acorzi PAP\",children:\"Apt sa acorzi PAP\"})]})]}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:1,children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleAddExperience,disabled:!experienceType,children:\"Salveaz\\u0103\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>{setEditingExperience(false);setExperienceType('');},children:\"Anuleaz\\u0103\"})]})]})]})]})}),/*#__PURE__*/_jsx(Card,{sx:{flex:1,minWidth:300},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",mb:2,children:\"Securitate (2FA)\"}),profileUser.twoFactorEnabled?/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"success.main\",mb:1,children:\"\\u2713 Autentificare \\xEEn doi pa\\u0219i activat\\u0103\"}),currentUser&&currentUser.indicator===profileUser.indicator&&/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"error\",variant:\"outlined\",onClick:handleDisable2FA,children:\"Dezactiveaz\\u0103 2FA\"})]}):/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",mb:1,children:\"Autentificare \\xEEn doi pa\\u0219i dezactivat\\u0103\"}),currentUser&&currentUser.indicator===profileUser.indicator&&/*#__PURE__*/_jsx(Box,{children:!qrDataUrl?/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",onClick:handleSetup2FA,sx:{mb:1},children:\"Configureaz\\u0103 2FA\"}):/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",mb:2,children:\"Scaneaz\\u0103 acest QR \\xEEn aplica\\u021Bia ta 2FA, apoi introdu codul generat:\"}),/*#__PURE__*/_jsx(Box,{mb:2,display:\"flex\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(\"img\",{src:qrDataUrl,alt:\"2FA QR\",style:{maxWidth:'200px'}})}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:1,alignItems:\"center\",mb:1,children:[/*#__PURE__*/_jsx(TextField,{label:\"Cod 2FA\",value:twoFactorCode,onChange:e=>setTwoFactorCode(e.target.value),size:\"small\",fullWidth:true}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"contained\",onClick:handleEnable2FA,disabled:!twoFactorCode,children:\"Activeaz\\u0103\"})]}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",color:\"secondary\",onClick:()=>{setQrDataUrl('');setTwoFactorCode('');},children:\"Anuleaz\\u0103\"})]})})]})]})})]}),/*#__PURE__*/_jsxs(Box,{mt:4,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",mb:3,children:\"Evenimente\"}),userEvents.length>0?/*#__PURE__*/_jsxs(Box,{children:[userEvents.map((event,index)=>/*#__PURE__*/_jsxs(Box,{mb:3,p:3,sx:{border:'1px solid #ddd',borderRadius:2,backgroundColor:'#fafafa'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:\"bold\",color:\"primary\",mb:1,children:event.name}),event.details&&/*#__PURE__*/_jsx(Typography,{variant:\"body1\",mb:2,sx:{lineHeight:1.6},children:event.details}),/*#__PURE__*/_jsx(Box,{display:\"flex\",flexWrap:\"wrap\",gap:2,mb:1,children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Data eveniment:\"}),\" \",new Date(event.date).toLocaleDateString('ro-RO')]})}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",sx:{fontStyle:'italic'},children:[\"\\xCEnregistrat la: \",new Date(event.registeredAt).toLocaleDateString('ro-RO')]})]},index)),currentUser&&currentUser.indicator===profileUser.indicator&&/*#__PURE__*/_jsxs(Box,{mt:4,p:3,sx:{border:'1px solid #ddd',borderRadius:2,backgroundColor:'#f9f9f9'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",mb:2,children:\"Descarc\\u0103 Activitatea (PDF)\"}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:2,mb:2,flexWrap:\"wrap\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(TextField,{label:\"De la data\",type:\"date\",value:fromDate,onChange:e=>setFromDate(e.target.value),size:\"small\",InputLabelProps:{shrink:true},sx:{minWidth:150}}),/*#__PURE__*/_jsx(TextField,{label:\"P\\xE2n\\u0103 la data\",type:\"date\",value:toDate,onChange:e=>setToDate(e.target.value),size:\"small\",InputLabelProps:{shrink:true},sx:{minWidth:150}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleDownloadActivity,disabled:!fromDate||!toDate,sx:{minWidth:200},children:\"Descarc\\u0103 Activitatea (PDF)\"})]})]})]}):/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",mb:3,children:\"Nu exist\\u0103 evenimente \\xEEnregistrate\"}),currentUser&&currentUser.indicator===profileUser.indicator&&/*#__PURE__*/_jsxs(Box,{p:3,sx:{border:'1px solid #ddd',borderRadius:2,backgroundColor:'#f9f9f9'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",mb:2,children:\"Descarc\\u0103 Activitatea (PDF)\"}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:2,mb:2,flexWrap:\"wrap\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(TextField,{label:\"De la data\",type:\"date\",value:fromDate,onChange:e=>setFromDate(e.target.value),size:\"small\",InputLabelProps:{shrink:true},sx:{minWidth:150}}),/*#__PURE__*/_jsx(TextField,{label:\"P\\xE2n\\u0103 la data\",type:\"date\",value:toDate,onChange:e=>setToDate(e.target.value),size:\"small\",InputLabelProps:{shrink:true},sx:{minWidth:150}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleDownloadActivity,disabled:!fromDate||!toDate,sx:{minWidth:200},children:\"Descarc\\u0103 Activitatea (PDF)\"})]})]})]})]}),/*#__PURE__*/_jsx(Box,{mt:3,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>navigate('/dashboard'),children:\"\\xCEnapoi la Dashboard\"})}),showPhotoUpload&&/*#__PURE__*/_jsx(Box,{sx:{position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:'rgba(0, 0, 0, 0.5)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:1000},onClick:()=>setShowPhotoUpload(false),children:/*#__PURE__*/_jsxs(Box,{sx:{backgroundColor:'white',padding:3,borderRadius:2,maxWidth:400,width:'90%',textAlign:'center'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",mb:2,children:\"Incarca Fotografia pentru Ecuson\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",mb:3,children:\"Selectati o fotografie pentru a genera ecusonul personalizat\"}),/*#__PURE__*/_jsx(\"input\",{accept:\"image/*\",style:{display:'none'},id:\"photo-upload\",type:\"file\",onChange:handlePhotoSelect}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"photo-upload\",children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",component:\"span\",sx:{mb:2},fullWidth:true,children:\"Selecteaza Fotografia\"})}),selectedPhoto&&/*#__PURE__*/_jsx(Box,{mb:2,children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"primary\",children:[\"Fotografie selectata: \",selectedPhoto.name]})}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:2,justifyContent:\"center\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handlePhotoUpload,disabled:!selectedPhoto||uploadingPhoto,color:\"primary\",children:uploadingPhoto?'Se incarca...':'Incarca'}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>{setShowPhotoUpload(false);setSelectedPhoto(null);},children:\"Anuleaza\"})]})]})}),successMessage&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",onClose:()=>setSuccessMessage(''),sx:{position:'fixed',top:20,right:20,zIndex:9999},children:successMessage}),/*#__PURE__*/_jsx(ScutireForm,{open:showScutireForm,onClose:()=>setShowScutireForm(false),onSuccess:setSuccessMessage})]});}","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Card","CardContent","Button","Alert","CircularProgress","Select","MenuItem","FormControl","InputLabel","TextField","useParams","useNavigate","useAuth","getUserProfile","updateMyDetasament","addCertificate","removeCertificate","downloadIndicativ","downloadIdCard","uploadPhoto","updatePersonalInfo","setup2FA","enable2FA","disable2FA","getUserEvents","downloadMyActivity","addExperience","removeExperience","downloadMyVolunteerContract","QRCode","ScutireForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","indicator","user","currentUser","navigate","profileUser","setProfileUser","loading","setLoading","error","setError","qrCodeUrl","setQrCodeUrl","editingDetasament","setEditingDetasament","editingCertificate","setEditingCertificate","certificateType","setCertificateType","certificateNumber","setCertificateNumber","editingPersonalInfo","setEditingPersonalInfo","domiciliu","setDomiciliu","resedinta","setResedinta","twoFactorCode","setTwoFactorCode","userEvents","setUserEvents","qrDataUrl","setQrDataUrl","fromDate","setFromDate","toDate","setToDate","editingExperience","setEditingExperience","experienceType","setExperienceType","showPhotoUpload","setShowPhotoUpload","selectedPhoto","setSelectedPhoto","uploadingPhoto","setUploadingPhoto","showScutireForm","setShowScutireForm","successMessage","setSuccessMessage","loadProfile","targetIndicator","response","userData","data","eventsResponse","err","console","profileUrl","concat","window","location","origin","qrCodeDataUrl","toDataURL","width","margin","color","dark","light","_err$response","_err$response2","status","handleDownloadQR","link","document","createElement","download","href","click","handleUpdateDetasament","newDetasament","prev","_objectSpread","detasament","handleAddCertificate","certificates","type","number","addedAt","Date","hasFirstAidCertificate","_err$response3","_err$response3$data","msg","handleRemoveCertificate","filter","cert","length","_err$response4","_err$response4$data","getDetasamentColor","colors","getCertificateEmoji","emojis","handleDownloadIndicativ","blob","Blob","url","URL","createObjectURL","body","appendChild","removeChild","revokeObjectURL","handleDownloadIdCard","photo","handlePhotoUpload","_err$response5","_err$response5$data","handlePhotoSelect","event","file","target","files","handleUpdatePersonalInfo","handleSetup2FA","_res$data","res","handleEnable2FA","_res$data2","twoFactorEnabled","handleDisable2FA","_res$data3","handleDownloadActivity","handleDownloadContract","handleAddExperience","experiences","_err$response6","_err$response6$data","handleRemoveExperience","exp","_err$response7","_err$response7$data","display","justifyContent","alignItems","minHeight","children","maxWidth","mx","mt","severity","variant","onClick","sx","mb","gap","flexWrap","flex","minWidth","fontWeight","name","fullWidth","size","value","onChange","e","onClose","label","map","index","disabled","textAlign","component","src","alt","height","border","borderRadius","flexDirection","volunteerPdf","backgroundColor","ml","style","p","details","lineHeight","date","toLocaleDateString","fontStyle","registeredAt","InputLabelProps","shrink","position","top","left","zIndex","padding","stopPropagation","accept","id","htmlFor","right","open","onSuccess"],"sources":["C:/Users/trand/Documents/site_crr/site/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Box, Typography, Card, CardContent, Button, Alert, CircularProgress, Select, MenuItem, FormControl, InputLabel, TextField } from '@mui/material';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../AuthContext';\r\nimport { getUserProfile, updateMyDetasament, addCertificate, removeCertificate, downloadIndicativ, downloadIdCard, uploadPhoto, updatePersonalInfo, setup2FA, enable2FA, disable2FA, getUserEvents, downloadMyActivity, addExperience, removeExperience, downloadMyVolunteerContract } from '../api';\r\nimport QRCode from 'qrcode';\r\nimport ScutireForm from './ScutireForm';\r\n\r\nexport default function Profile() {\r\n  const { indicator } = useParams();\r\n  const { user: currentUser } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [profileUser, setProfileUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [qrCodeUrl, setQrCodeUrl] = useState('');\r\n  const [editingDetasament, setEditingDetasament] = useState(false);\r\n  const [editingCertificate, setEditingCertificate] = useState(false);\r\n  const [certificateType, setCertificateType] = useState('');\r\n  const [certificateNumber, setCertificateNumber] = useState('');\r\n  const [editingPersonalInfo, setEditingPersonalInfo] = useState(false);\r\n  const [domiciliu, setDomiciliu] = useState('');\r\n  const [resedinta, setResedinta] = useState('');\r\n  const [twoFactorCode, setTwoFactorCode] = useState('');\r\n  const [userEvents, setUserEvents] = useState([]);\r\n  const [qrDataUrl, setQrDataUrl] = useState('');\r\n  const [fromDate, setFromDate] = useState('');\r\n  const [toDate, setToDate] = useState('');\r\n  const [editingExperience, setEditingExperience] = useState(false);\r\n  const [experienceType, setExperienceType] = useState('');\r\n  const [showPhotoUpload, setShowPhotoUpload] = useState(false);\r\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\r\n  const [uploadingPhoto, setUploadingPhoto] = useState(false);\r\n  const [showScutireForm, setShowScutireForm] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    async function loadProfile() {\r\n      try {\r\n        setLoading(true);\r\n        setError('');\r\n        \r\n        // If no indicator in URL, use current user's indicator\r\n        const targetIndicator = indicator || currentUser?.indicator;\r\n        \r\n        if (!targetIndicator) {\r\n          setError('Indicativul nu a fost gƒÉsit');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        // Fetch user profile from backend\r\n        const response = await getUserProfile(targetIndicator);\r\n        const userData = response.data;\r\n        setProfileUser(userData);\r\n        setDomiciliu(userData.domiciliu || '');\r\n        setResedinta(userData.resedinta || '');\r\n        \r\n        // Fetch user events\r\n        try {\r\n          const eventsResponse = await getUserEvents(targetIndicator);\r\n          setUserEvents(eventsResponse.data || []);\r\n        } catch (err) {\r\n          console.error('Error fetching user events:', err);\r\n          setUserEvents([]);\r\n        }\r\n        \r\n        // Generate QR code (pointing to public profile for sharing)\r\n        const profileUrl = `${window.location.origin}/public/profile/${targetIndicator}`;\r\n        const qrCodeDataUrl = await QRCode.toDataURL(profileUrl, {\r\n          width: 256,\r\n          margin: 2,\r\n          color: {\r\n            dark: '#000000',\r\n            light: '#FFFFFF'\r\n          }\r\n        });\r\n        setQrCodeUrl(qrCodeDataUrl);\r\n      } catch (err) {\r\n        console.error('Error loading profile:', err);\r\n        if (err.response?.status === 404) {\r\n          setError('Profilul nu a fost gƒÉsit');\r\n        } else if (err.response?.status === 400) {\r\n          setError('Format indicativ invalid');\r\n        } else {\r\n          setError('Eroare la √ÆncƒÉrcarea profilului');\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    if (currentUser) {\r\n      loadProfile();\r\n    }\r\n  }, [indicator, currentUser]);\r\n\r\n  const handleDownloadQR = () => {\r\n    if (qrCodeUrl) {\r\n      const link = document.createElement('a');\r\n      link.download = `profile-${profileUser?.indicator}-qr.png`;\r\n      link.href = qrCodeUrl;\r\n      link.click();\r\n    }\r\n  };\r\n\r\n  const handleUpdateDetasament = async (newDetasament) => {\r\n    try {\r\n      await updateMyDetasament(newDetasament);\r\n      setProfileUser(prev => ({ ...prev, detasament: newDetasament }));\r\n      setEditingDetasament(false);\r\n    } catch (err) {\r\n      setError('Eroare la actualizarea detasamentului');\r\n    }\r\n  };\r\n\r\n  const handleAddCertificate = async () => {\r\n    try {\r\n      if (!certificateType || !certificateNumber) {\r\n        setError('Completa»õi toate c√¢mpurile');\r\n        return;\r\n      }\r\n      await addCertificate(certificateType, certificateNumber);\r\n      setProfileUser(prev => ({ \r\n        ...prev, \r\n        certificates: [...(prev.certificates || []), {\r\n          type: certificateType,\r\n          number: certificateNumber,\r\n          addedAt: new Date()\r\n        }],\r\n        hasFirstAidCertificate: true \r\n      }));\r\n      setEditingCertificate(false);\r\n      setCertificateType('');\r\n      setCertificateNumber('');\r\n    } catch (err) {\r\n      setError(err.response?.data?.msg || 'Eroare la salvarea certificatului');\r\n    }\r\n  };\r\n\r\n  const handleRemoveCertificate = async (type) => {\r\n    try {\r\n      await removeCertificate(type);\r\n      setProfileUser(prev => ({ \r\n        ...prev, \r\n        certificates: (prev.certificates || []).filter(cert => cert.type !== type),\r\n        hasFirstAidCertificate: (prev.certificates || []).filter(cert => cert.type !== type).length > 0\r\n      }));\r\n    } catch (err) {\r\n      setError(err.response?.data?.msg || 'Eroare la »ôtergerea certificatului');\r\n    }\r\n  };\r\n\r\n  const getDetasamentColor = (detasament) => {\r\n    const colors = {\r\n      'Voluntar': '#666666', // Basic gray\r\n      'Acordare PA': '#f44336', // Red\r\n      'Acordare PAP': '#ffeb3b', // Yellow\r\n      'Detasament': '#000000', // Black\r\n      'Comunicare': '#e91e63', // Pink\r\n      'Logistic': '#4caf50', // Green\r\n      'Management': '#2196f3' // Blue\r\n    };\r\n    return colors[detasament] || '#666666';\r\n  };\r\n\r\n  const getCertificateEmoji = (type) => {\r\n    const emojis = {\r\n      'PA': '‚õëÔ∏è',\r\n      'PAP': 'ü´Ç',\r\n      'Detasament': '‚ö´'\r\n    };\r\n    return emojis[type] || '';\r\n  };\r\n\r\n  const handleDownloadIndicativ = async () => {\r\n    try {\r\n      const response = await downloadIndicativ();\r\n      \r\n      // Create blob from response\r\n      const blob = new Blob([response.data], { type: 'application/pdf' });\r\n      \r\n      // Create download link\r\n      const url = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `indicativ_${profileUser?.indicator || 'user'}.pdf`;\r\n      \r\n      // Trigger download\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      \r\n      // Cleanup\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (err) {\r\n      console.error('Error downloading indicative:', err);\r\n      setError('Eroare la descƒÉrcarea indicativului');\r\n    }\r\n  };\r\n\r\n  const handleDownloadIdCard = async () => {\r\n    try {\r\n      // Check if user has a photo, if not show upload modal\r\n      if (!profileUser.photo) {\r\n        setShowPhotoUpload(true);\r\n        return;\r\n      }\r\n      \r\n      const response = await downloadIdCard();\r\n      \r\n      // Create blob from response\r\n      const blob = new Blob([response.data], { type: 'application/pdf' });\r\n      \r\n      // Create download link\r\n      const url = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `ecuson_${profileUser?.indicator || 'user'}.pdf`;\r\n      \r\n      // Trigger download\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      \r\n      // Cleanup\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (err) {\r\n      console.error('Error downloading ID card:', err);\r\n      setError('Eroare la descƒÉrcarea ecusonului');\r\n    }\r\n  };\r\n\r\n  const handlePhotoUpload = async () => {\r\n    if (!selectedPhoto) {\r\n      setError('Selectati o fotografie');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setUploadingPhoto(true);\r\n      const response = await uploadPhoto(selectedPhoto);\r\n      \r\n      // Update profile user with new photo\r\n      setProfileUser(prev => ({ ...prev, photo: response.data.photo }));\r\n      setSelectedPhoto(null);\r\n      setShowPhotoUpload(false);\r\n      \r\n      // Show success message\r\n      setError(''); // Clear any previous errors\r\n    } catch (err) {\r\n      console.error('Error uploading photo:', err);\r\n      setError(err.response?.data?.msg || 'Eroare la incarcarea fotografiei');\r\n    } finally {\r\n      setUploadingPhoto(false);\r\n    }\r\n  };\r\n\r\n  const handlePhotoSelect = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      setSelectedPhoto(file);\r\n    }\r\n  };\r\n\r\n  const handleUpdatePersonalInfo = async () => {\r\n    try {\r\n      await updatePersonalInfo(domiciliu, resedinta);\r\n      setProfileUser(prev => ({ ...prev, domiciliu, resedinta }));\r\n      setEditingPersonalInfo(false);\r\n    } catch (err) {\r\n      setError('Eroare la actualizarea informa»õiilor personale');\r\n    }\r\n  };\r\n\r\n  const handleSetup2FA = async () => {\r\n    try {\r\n      const res = await setup2FA();\r\n      if (res?.data?.qrDataUrl) {\r\n        setQrDataUrl(res.data.qrDataUrl);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error setting up 2FA:', err);\r\n      setError('Eroare la configurarea 2FA');\r\n    }\r\n  };\r\n\r\n  const handleEnable2FA = async () => {\r\n    try {\r\n      const res = await enable2FA(twoFactorCode);\r\n      if (res?.data?.user) {\r\n        setProfileUser(prev => ({ ...prev, twoFactorEnabled: true }));\r\n        setTwoFactorCode('');\r\n        setQrDataUrl('');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error enabling 2FA:', err);\r\n      setError('Eroare la activarea 2FA');\r\n    }\r\n  };\r\n\r\n  const handleDisable2FA = async () => {\r\n    try {\r\n      const res = await disable2FA();\r\n      if (res?.data?.user) {\r\n        setProfileUser(prev => ({ ...prev, twoFactorEnabled: false }));\r\n      }\r\n    } catch (err) {\r\n      setError('Eroare la dezactivarea 2FA');\r\n    }\r\n  };\r\n\r\n  const handleDownloadActivity = async () => {\r\n    try {\r\n      const response = await downloadMyActivity(fromDate, toDate);\r\n      \r\n      // Create blob from response (PDF data)\r\n      const blob = new Blob([response.data], { type: 'application/pdf' });\r\n      \r\n      // Create download link\r\n      const url = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `activitatea_${profileUser?.indicator || 'user'}.pdf`;\r\n      \r\n      // Trigger download\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      \r\n      // Cleanup\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (err) {\r\n      console.error('Error downloading activity:', err);\r\n      setError('Eroare la descƒÉrcarea activitƒÉ»õii');\r\n    }\r\n  };\r\n\r\n  const handleDownloadContract = async () => {\r\n    try {\r\n      const response = await downloadMyVolunteerContract();\r\n      \r\n      // Create blob from response\r\n      const blob = new Blob([response.data], { type: 'application/pdf' });\r\n      \r\n      // Create download link\r\n      const url = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `contract-voluntar-${profileUser?.indicator || 'user'}.pdf`;\r\n      \r\n      // Trigger download\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      \r\n      // Cleanup\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (err) {\r\n      console.error('Error downloading contract:', err);\r\n      setError('Eroare la descƒÉrcarea contractului');\r\n    }\r\n  };\r\n\r\n  const handleAddExperience = async () => {\r\n    try {\r\n      if (!experienceType) {\r\n        setError('Selecta»õi tipul de experien»õƒÉ');\r\n        return;\r\n      }\r\n      await addExperience(experienceType);\r\n      setProfileUser(prev => ({ \r\n        ...prev, \r\n        experiences: [...(prev.experiences || []), {\r\n          type: experienceType,\r\n          addedAt: new Date()\r\n        }]\r\n      }));\r\n      setEditingExperience(false);\r\n      setExperienceType('');\r\n    } catch (err) {\r\n      setError(err.response?.data?.msg || 'Eroare la salvarea experien»õei');\r\n    }\r\n  };\r\n\r\n  const handleRemoveExperience = async (type) => {\r\n    try {\r\n      await removeExperience(type);\r\n      setProfileUser(prev => ({ \r\n        ...prev, \r\n        experiences: (prev.experiences || []).filter(exp => exp.type !== type)\r\n      }));\r\n    } catch (err) {\r\n      setError(err.response?.data?.msg || 'Eroare la »ôtergerea experien»õei');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Box maxWidth={600} mx=\"auto\" mt={4}>\r\n        <Alert severity=\"error\">{error}</Alert>\r\n        <Button variant=\"contained\" onClick={() => navigate('/dashboard')} sx={{ mt: 2 }}>\r\n          √énapoi la Dashboard\r\n        </Button>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (!profileUser) {\r\n    return (\r\n      <Box maxWidth={600} mx=\"auto\" mt={4}>\r\n        <Alert severity=\"warning\">Profilul nu a fost gƒÉsit</Alert>\r\n        <Button variant=\"contained\" onClick={() => navigate('/dashboard')} sx={{ mt: 2 }}>\r\n          √énapoi la Dashboard\r\n        </Button>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box maxWidth={800} mx=\"auto\" mt={4}>\r\n      <Typography variant=\"h4\" mb={3}>\r\n        Profil Utilizator\r\n      </Typography>\r\n      \r\n      <Box display=\"flex\" gap={3} flexWrap=\"wrap\">\r\n        {/* Profile Information */}\r\n        <Card sx={{ flex: 1, minWidth: 300 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" mb={2}>\r\n              Informa»õii Personale\r\n            </Typography>\r\n            \r\n            <Box mb={2}>\r\n              <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                Indicativ\r\n              </Typography>\r\n              <Typography variant=\"h5\" color=\"primary\" fontWeight=\"bold\">\r\n                {profileUser.indicator}\r\n              </Typography>\r\n            </Box>\r\n            \r\n                         <Box mb={2}>\r\n               <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                 Nume Complet\r\n               </Typography>\r\n               <Typography variant=\"body1\">\r\n                 {profileUser.name}\r\n               </Typography>\r\n             </Box>\r\n            \r\n            <Box mb={2}>\r\n              <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                Detasament\r\n              </Typography>\r\n              {editingDetasament ? (\r\n                <FormControl fullWidth size=\"small\">\r\n                  <Select\r\n                    value={profileUser.detasament}\r\n                    onChange={(e) => handleUpdateDetasament(e.target.value)}\r\n                    onClose={() => setEditingDetasament(false)}\r\n                  >\r\n                    <MenuItem value=\"Voluntar\">Voluntar</MenuItem>\r\n                    <MenuItem value=\"Comunicare\">Comunicare</MenuItem>\r\n                    <MenuItem value=\"Logistic\">Logistic</MenuItem>\r\n                    <MenuItem value=\"Detasament\">Detasament</MenuItem>\r\n                    <MenuItem value=\"Acordare PA\">Acordare PA</MenuItem>\r\n                    <MenuItem value=\"Acordare PAP\">Acordare PAP</MenuItem>\r\n                    <MenuItem value=\"Management\">Management</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              ) : (\r\n                <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                  <Typography \r\n                    variant=\"body1\" \r\n                    sx={{ \r\n                      color: getDetasamentColor(profileUser.detasament),\r\n                      fontWeight: 'bold'\r\n                    }}\r\n                  >\r\n                    {profileUser.detasament}\r\n                  </Typography>\r\n                  {currentUser && currentUser.indicator === profileUser.indicator && (\r\n                    <Button \r\n                      size=\"small\" \r\n                      onClick={() => setEditingDetasament(true)}\r\n                    >\r\n                      EditeazƒÉ\r\n                    </Button>\r\n                  )}\r\n                </Box>\r\n              )}\r\n            </Box>\r\n            \r\n            {/* Personal Information Section */}\r\n            <Box mb={2}>\r\n              <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                Informa»õii Personale\r\n              </Typography>\r\n              {editingPersonalInfo ? (\r\n                <Box>\r\n                  <TextField\r\n                    label=\"Domiciliu (din buletin)\"\r\n                    value={domiciliu}\r\n                    onChange={(e) => setDomiciliu(e.target.value)}\r\n                    fullWidth\r\n                    size=\"small\"\r\n                    sx={{ mb: 1 }}\r\n                  />\r\n                  <TextField\r\n                    label=\"Re»ôedin»õa (unde locuie»ôti)\"\r\n                    value={resedinta}\r\n                    onChange={(e) => setResedinta(e.target.value)}\r\n                    fullWidth\r\n                    size=\"small\"\r\n                    sx={{ mb: 1 }}\r\n                  />\r\n                  <Box display=\"flex\" gap={1}>\r\n                    <Button \r\n                      size=\"small\" \r\n                      variant=\"contained\"\r\n                      onClick={handleUpdatePersonalInfo}\r\n                    >\r\n                      SalveazƒÉ\r\n                    </Button>\r\n                    <Button \r\n                      size=\"small\" \r\n                      variant=\"outlined\"\r\n                      onClick={() => setEditingPersonalInfo(false)}\r\n                    >\r\n                      AnuleazƒÉ\r\n                    </Button>\r\n                  </Box>\r\n                </Box>\r\n              ) : (\r\n                <Box>\r\n                  <Typography variant=\"body2\" mb={1}>\r\n                    <strong>Domiciliu (din buletin):</strong> {profileUser.domiciliu || 'Nu este specificat'}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" mb={1}>\r\n                    <strong>Re»ôedin»õa (unde locuie»ôti):</strong> {profileUser.resedinta || 'Nu este specificat'}\r\n                  </Typography>\r\n                  {currentUser && currentUser.indicator === profileUser.indicator && (\r\n                    <Button \r\n                      size=\"small\" \r\n                      onClick={() => setEditingPersonalInfo(true)}\r\n                    >\r\n                      EditeazƒÉ\r\n                    </Button>\r\n                  )}\r\n                </Box>\r\n              )}\r\n            </Box>\r\n            \r\n            <Box mb={2}>\r\n              <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                Certificate\r\n              </Typography>\r\n              {profileUser.hasFirstAidCertificate && profileUser.certificates && profileUser.certificates.length > 0 ? (\r\n                <Box>\r\n                  {profileUser.certificates.map((cert, index) => (\r\n                    <Box key={index} display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\r\n                      <Typography variant=\"h6\">\r\n                        {getCertificateEmoji(cert.type)}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\">\r\n                        {cert.type} - {cert.number}\r\n                      </Typography>\r\n                      {currentUser && currentUser.indicator === profileUser.indicator && (\r\n                        <Button \r\n                          size=\"small\" \r\n                          color=\"error\"\r\n                          onClick={() => handleRemoveCertificate(cert.type)}\r\n                        >\r\n                          »òterge\r\n                        </Button>\r\n                      )}\r\n                    </Box>\r\n                  ))}\r\n                  {currentUser && currentUser.indicator === profileUser.indicator && profileUser.certificates.length < 3 && (\r\n                    <Button \r\n                      size=\"small\" \r\n                      variant=\"outlined\"\r\n                      onClick={() => setEditingCertificate(true)}\r\n                      sx={{ mt: 1 }}\r\n                    >\r\n                      AdaugƒÉ Certificat\r\n                    </Button>\r\n                  )}\r\n                </Box>\r\n              ) : (\r\n                <Box>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\" mb={1}>\r\n                    Nu ave»õi certificate\r\n                  </Typography>\r\n                  {currentUser && currentUser.indicator === profileUser.indicator && (\r\n                    <Button \r\n                      size=\"small\" \r\n                      variant=\"outlined\"\r\n                      onClick={() => setEditingCertificate(true)}\r\n                    >\r\n                      AdaugƒÉ Certificat\r\n                    </Button>\r\n                  )}\r\n                </Box>\r\n              )}\r\n            </Box>\r\n            \r\n            {/* Certificate Editing Form */}\r\n            {editingCertificate && (\r\n              <Box mt={3}>\r\n                <Typography variant=\"h6\" mb={2}>\r\n                  AdaugƒÉ Certificat Prim Ajutor\r\n                </Typography>\r\n                <Box display=\"flex\" gap={2} flexWrap=\"wrap\">\r\n                  <FormControl sx={{ minWidth: 150 }}>\r\n                    <InputLabel>Tip Certificat</InputLabel>\r\n                    <Select\r\n                      value={certificateType}\r\n                      onChange={(e) => setCertificateType(e.target.value)}\r\n                      label=\"Tip Certificat\"\r\n                    >\r\n                      <MenuItem value=\"PA\">Certificat PA ‚õëÔ∏è</MenuItem>\r\n                      <MenuItem value=\"PAP\">Certificat PAP ü´Ç</MenuItem>\r\n                      <MenuItem value=\"Detasament\">Certificat Detasament ‚ö´</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                  <TextField\r\n                    label=\"NumƒÉr Certificat\"\r\n                    value={certificateNumber}\r\n                    onChange={(e) => setCertificateNumber(e.target.value)}\r\n                    sx={{ minWidth: 200 }}\r\n                  />\r\n                  <Box display=\"flex\" gap={1} alignItems=\"center\">\r\n                    <Button \r\n                      variant=\"contained\" \r\n                      onClick={handleAddCertificate}\r\n                      disabled={!certificateType || !certificateNumber}\r\n                    >\r\n                      SalveazƒÉ\r\n                    </Button>\r\n                    <Button \r\n                      variant=\"outlined\" \r\n                      onClick={() => {\r\n                        setEditingCertificate(false);\r\n                        setCertificateType('');\r\n                        setCertificateNumber('');\r\n                      }}\r\n                    >\r\n                      AnuleazƒÉ\r\n                    </Button>\r\n                  </Box>\r\n                </Box>\r\n              </Box>\r\n            )}\r\n\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* QR Code */}\r\n        <Card sx={{ flex: 0, minWidth: 300 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" mb={2}>\r\n              Cod QR Profil\r\n            </Typography>\r\n            \r\n            {qrCodeUrl && (\r\n              <Box textAlign=\"center\">\r\n                <Box \r\n                  component=\"img\" \r\n                  src={qrCodeUrl} \r\n                  alt=\"Profile QR Code\"\r\n                  sx={{ \r\n                    maxWidth: '100%', \r\n                    height: 'auto',\r\n                    border: '1px solid #e0e0e0',\r\n                    borderRadius: 1,\r\n                    mb: 2\r\n                  }}\r\n                />\r\n                \r\n                <Typography variant=\"body2\" color=\"text.secondary\" mb={2}>\r\n                  ScaneazƒÉ acest cod QR pentru a accesa acest profil\r\n                </Typography>\r\n                \r\n                <Box display=\"flex\" gap={1} flexDirection=\"column\">\r\n                  <Button \r\n                    variant=\"outlined\" \r\n                    onClick={handleDownloadQR}\r\n                    fullWidth\r\n                  >\r\n                    DescarcƒÉ Cod QR\r\n                  </Button>\r\n                  {currentUser && currentUser.indicator === profileUser.indicator && (\r\n                    <>\r\n                      <Button \r\n                        variant=\"contained\" \r\n                        onClick={handleDownloadIndicativ}\r\n                        fullWidth\r\n                      >\r\n                        DescarcƒÉ Indicativ\r\n                      </Button>\r\n                      <Button \r\n                        variant=\"contained\" \r\n                        color=\"error\"\r\n                        onClick={handleDownloadIdCard}\r\n                        fullWidth\r\n                      >\r\n                        DescarcƒÉ Ecuson\r\n                      </Button>\r\n                      {profileUser.volunteerPdf && (\r\n                        <Button\r\n                          variant=\"contained\" \r\n                          color=\"success\"\r\n                          onClick={handleDownloadContract}\r\n                          fullWidth\r\n                          sx={{ mb: 1 }}\r\n                        >\r\n                          DescarcƒÉ Contract\r\n                        </Button>\r\n                      )}\r\n                      <Button\r\n                        variant=\"contained\" \r\n                        color=\"primary\"\r\n                        onClick={() => setShowScutireForm(true)}\r\n                        fullWidth\r\n                        sx={{ mb: 1 }}\r\n                      >\r\n                        GenereazƒÉ Scutire\r\n                      </Button>\r\n                    </>\r\n                  )}\r\n                </Box>\r\n              </Box>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Experience Card */}\r\n        <Card sx={{ flex: 1, minWidth: 300 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" mb={2}>\r\n              Experien»õƒÉ\r\n            </Typography>\r\n            \r\n            {profileUser.experiences && profileUser.experiences.length > 0 ? (\r\n              <Box>\r\n                {profileUser.experiences.map((exp, index) => (\r\n                  <Box key={index} display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\r\n                    <Box\r\n                      sx={{\r\n                        width: 12,\r\n                        height: 12,\r\n                        backgroundColor: exp.type === 'Permis de conducere' ? '#2196f3' : \r\n                                       exp.type === 'Apt sa acorzi PA' ? '#f44336' : '#e91e63',\r\n                        borderRadius: 1\r\n                      }}\r\n                    />\r\n                    <Typography variant=\"body2\">\r\n                      {exp.type}\r\n                    </Typography>\r\n                    {currentUser && currentUser.indicator === profileUser.indicator && (\r\n                      <Button \r\n                        size=\"small\" \r\n                        color=\"error\"\r\n                        onClick={() => handleRemoveExperience(exp.type)}\r\n                        sx={{ ml: 'auto' }}\r\n                      >\r\n                        »òterge\r\n                      </Button>\r\n                    )}\r\n                  </Box>\r\n                ))}\r\n                {currentUser && currentUser.indicator === profileUser.indicator && (\r\n                  <Button \r\n                    size=\"small\" \r\n                    variant=\"outlined\"\r\n                    onClick={() => setEditingExperience(true)}\r\n                    sx={{ mt: 1 }}\r\n                  >\r\n                    AdaugƒÉ Experien»õƒÉ\r\n                  </Button>\r\n                )}\r\n              </Box>\r\n            ) : (\r\n              <Box>\r\n                <Typography variant=\"body2\" color=\"text.secondary\" mb={1}>\r\n                  Nu existƒÉ experien»õƒÉ √ÆnregistratƒÉ\r\n                </Typography>\r\n                {currentUser && currentUser.indicator === profileUser.indicator && (\r\n                  <Button \r\n                    size=\"small\" \r\n                    variant=\"outlined\"\r\n                    onClick={() => setEditingExperience(true)}\r\n                  >\r\n                    AdaugƒÉ Experien»õƒÉ\r\n                  </Button>\r\n                )}\r\n              </Box>\r\n            )}\r\n            \r\n            {/* Experience Editing Form */}\r\n            {editingExperience && (\r\n              <Box mt={3}>\r\n                <Typography variant=\"h6\" mb={2}>\r\n                  AdaugƒÉ Experien»õƒÉ\r\n                </Typography>\r\n                <Box display=\"flex\" gap={2} flexWrap=\"wrap\" alignItems=\"center\">\r\n                  <FormControl sx={{ minWidth: 200 }}>\r\n                    <InputLabel>Tip Experien»õƒÉ</InputLabel>\r\n                    <Select\r\n                      value={experienceType}\r\n                      onChange={(e) => setExperienceType(e.target.value)}\r\n                      label=\"Tip Experien»õƒÉ\"\r\n                    >\r\n                      <MenuItem value=\"Permis de conducere\">Permis de conducere</MenuItem>\r\n                      <MenuItem value=\"Apt sa acorzi PA\">Apt sa acorzi PA</MenuItem>\r\n                      <MenuItem value=\"Apt sa acorzi PAP\">Apt sa acorzi PAP</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                  <Box display=\"flex\" gap={1}>\r\n                    <Button \r\n                      variant=\"contained\" \r\n                      onClick={handleAddExperience}\r\n                      disabled={!experienceType}\r\n                    >\r\n                      SalveazƒÉ\r\n                    </Button>\r\n                    <Button \r\n                      variant=\"outlined\" \r\n                      onClick={() => {\r\n                        setEditingExperience(false);\r\n                        setExperienceType('');\r\n                      }}\r\n                    >\r\n                      AnuleazƒÉ\r\n                    </Button>\r\n                  </Box>\r\n                </Box>\r\n              </Box>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n\r\n\r\n\r\n        {/* 2FA Card */}\r\n        <Card sx={{ flex: 1, minWidth: 300 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" mb={2}>\r\n              Securitate (2FA)\r\n            </Typography>\r\n            {profileUser.twoFactorEnabled ? (\r\n              <Box>\r\n                <Typography variant=\"body1\" color=\"success.main\" mb={1}>\r\n                  ‚úì Autentificare √Æn doi pa»ôi activatƒÉ\r\n                </Typography>\r\n                {currentUser && currentUser.indicator === profileUser.indicator && (\r\n                  <Button \r\n                    size=\"small\" \r\n                    color=\"error\"\r\n                    variant=\"outlined\"\r\n                    onClick={handleDisable2FA}\r\n                  >\r\n                    DezactiveazƒÉ 2FA\r\n                  </Button>\r\n                )}\r\n              </Box>\r\n            ) : (\r\n                <Box>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\" mb={1}>\r\n                    Autentificare √Æn doi pa»ôi dezactivatƒÉ\r\n                  </Typography>\r\n                  {currentUser && currentUser.indicator === profileUser.indicator && (\r\n                    <Box>\r\n                      {!qrDataUrl ? (\r\n                        <Button \r\n                          size=\"small\" \r\n                          variant=\"outlined\"\r\n                          onClick={handleSetup2FA}\r\n                          sx={{ mb: 1 }}\r\n                        >\r\n                          ConfigureazƒÉ 2FA\r\n                        </Button>\r\n                      ) : (\r\n                        <Box>\r\n                          <Typography variant=\"body2\" mb={2}>\r\n                            ScaneazƒÉ acest QR √Æn aplica»õia ta 2FA, apoi introdu codul generat:\r\n                          </Typography>\r\n                          <Box mb={2} display=\"flex\" justifyContent=\"center\">\r\n                            <img src={qrDataUrl} alt=\"2FA QR\" style={{ maxWidth: '200px' }} />\r\n                          </Box>\r\n                          <Box display=\"flex\" gap={1} alignItems=\"center\" mb={1}>\r\n                            <TextField\r\n                              label=\"Cod 2FA\"\r\n                              value={twoFactorCode}\r\n                              onChange={(e) => setTwoFactorCode(e.target.value)}\r\n                              size=\"small\"\r\n                              fullWidth\r\n                            />\r\n                            <Button \r\n                              size=\"small\" \r\n                              variant=\"contained\"\r\n                              onClick={handleEnable2FA}\r\n                              disabled={!twoFactorCode}\r\n                            >\r\n                              ActiveazƒÉ\r\n                            </Button>\r\n                          </Box>\r\n                          <Button \r\n                            size=\"small\" \r\n                            variant=\"outlined\"\r\n                            color=\"secondary\"\r\n                            onClick={() => {\r\n                              setQrDataUrl('');\r\n                              setTwoFactorCode('');\r\n                            }}\r\n                          >\r\n                            AnuleazƒÉ\r\n                          </Button>\r\n                        </Box>\r\n                      )}\r\n                    </Box>\r\n                  )}\r\n                </Box>\r\n              )}\r\n          </CardContent>\r\n        </Card>\r\n      </Box>\r\n\r\n      {/* Full Width Events Section */}\r\n      <Box mt={4}>\r\n        <Typography variant=\"h5\" mb={3}>\r\n          Evenimente\r\n        </Typography>\r\n        \r\n        {userEvents.length > 0 ? (\r\n          <Box>\r\n            {userEvents.map((event, index) => (\r\n              <Box key={index} mb={3} p={3} sx={{ border: '1px solid #ddd', borderRadius: 2, backgroundColor: '#fafafa' }}>\r\n                {/* Event Title */}\r\n                <Typography variant=\"h6\" fontWeight=\"bold\" color=\"primary\" mb={1}>\r\n                  {event.name}\r\n                </Typography>\r\n                \r\n                {/* Event Description */}\r\n                {event.details && (\r\n                  <Typography variant=\"body1\" mb={2} sx={{ lineHeight: 1.6 }}>\r\n                    {event.details}\r\n                  </Typography>\r\n                )}\r\n                \r\n                {/* Event Details */}\r\n                <Box display=\"flex\" flexWrap=\"wrap\" gap={2} mb={1}>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    <strong>Data eveniment:</strong> {new Date(event.date).toLocaleDateString('ro-RO')}\r\n                  </Typography>\r\n                </Box>\r\n                \r\n                {/* Registration Info */}\r\n                <Typography variant=\"caption\" color=\"text.secondary\" sx={{ fontStyle: 'italic' }}>\r\n                  √énregistrat la: {new Date(event.registeredAt).toLocaleDateString('ro-RO')}\r\n                </Typography>\r\n              </Box>\r\n            ))}\r\n            \r\n            {/* Activity Download Section */}\r\n            {currentUser && currentUser.indicator === profileUser.indicator && (\r\n              <Box mt={4} p={3} sx={{ border: '1px solid #ddd', borderRadius: 2, backgroundColor: '#f9f9f9' }}>\r\n                <Typography variant=\"h6\" mb={2}>\r\n                  DescarcƒÉ Activitatea (PDF)\r\n                </Typography>\r\n                <Box display=\"flex\" gap={2} mb={2} flexWrap=\"wrap\" alignItems=\"center\">\r\n                  <TextField\r\n                    label=\"De la data\"\r\n                    type=\"date\"\r\n                    value={fromDate}\r\n                    onChange={(e) => setFromDate(e.target.value)}\r\n                    size=\"small\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ minWidth: 150 }}\r\n                  />\r\n                  <TextField\r\n                    label=\"P√¢nƒÉ la data\"\r\n                    type=\"date\"\r\n                    value={toDate}\r\n                    onChange={(e) => setToDate(e.target.value)}\r\n                    size=\"small\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ minWidth: 150 }}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    onClick={handleDownloadActivity}\r\n                    disabled={!fromDate || !toDate}\r\n                    sx={{ minWidth: 200 }}\r\n                  >\r\n                    DescarcƒÉ Activitatea (PDF)\r\n                  </Button>\r\n                </Box>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        ) : (\r\n          <Box>\r\n            <Typography variant=\"body1\" color=\"text.secondary\" mb={3}>\r\n              Nu existƒÉ evenimente √Ænregistrate\r\n            </Typography>\r\n            \r\n            {/* Activity Download Section - even when no events */}\r\n            {currentUser && currentUser.indicator === profileUser.indicator && (\r\n              <Box p={3} sx={{ border: '1px solid #ddd', borderRadius: 2, backgroundColor: '#f9f9f9' }}>\r\n                <Typography variant=\"h6\" mb={2}>\r\n                  DescarcƒÉ Activitatea (PDF)\r\n                </Typography>\r\n                <Box display=\"flex\" gap={2} mb={2} flexWrap=\"wrap\" alignItems=\"center\">\r\n                  <TextField\r\n                    label=\"De la data\"\r\n                    type=\"date\"\r\n                    value={fromDate}\r\n                    onChange={(e) => setFromDate(e.target.value)}\r\n                    size=\"small\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ minWidth: 150 }}\r\n                  />\r\n                  <TextField\r\n                    label=\"P√¢nƒÉ la data\"\r\n                    type=\"date\"\r\n                    value={toDate}\r\n                    onChange={(e) => setToDate(e.target.value)}\r\n                    size=\"small\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ minWidth: 150 }}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    onClick={handleDownloadActivity}\r\n                    disabled={!fromDate || !toDate}\r\n                    sx={{ minWidth: 200 }}\r\n                  >\r\n                    DescarcƒÉ Activitatea (PDF)\r\n                  </Button>\r\n                </Box>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        )}\r\n      </Box>\r\n      \r\n      <Box mt={3}>\r\n        <Button \r\n          variant=\"contained\" \r\n          onClick={() => navigate('/dashboard')}\r\n        >\r\n          √énapoi la Dashboard\r\n        </Button>\r\n      </Box>\r\n\r\n      {/* Photo Upload Modal */}\r\n      {showPhotoUpload && (\r\n        <Box\r\n          sx={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            zIndex: 1000,\r\n          }}\r\n          onClick={() => setShowPhotoUpload(false)}\r\n        >\r\n          <Box\r\n            sx={{\r\n              backgroundColor: 'white',\r\n              padding: 3,\r\n              borderRadius: 2,\r\n              maxWidth: 400,\r\n              width: '90%',\r\n              textAlign: 'center',\r\n            }}\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <Typography variant=\"h6\" mb={2}>\r\n              Incarca Fotografia pentru Ecuson\r\n            </Typography>\r\n            \r\n            <Typography variant=\"body2\" color=\"text.secondary\" mb={3}>\r\n              Selectati o fotografie pentru a genera ecusonul personalizat\r\n            </Typography>\r\n            \r\n            <input\r\n              accept=\"image/*\"\r\n              style={{ display: 'none' }}\r\n              id=\"photo-upload\"\r\n              type=\"file\"\r\n              onChange={handlePhotoSelect}\r\n            />\r\n            <label htmlFor=\"photo-upload\">\r\n              <Button\r\n                variant=\"outlined\"\r\n                component=\"span\"\r\n                sx={{ mb: 2 }}\r\n                fullWidth\r\n              >\r\n                Selecteaza Fotografia\r\n              </Button>\r\n            </label>\r\n            \r\n            {selectedPhoto && (\r\n              <Box mb={2}>\r\n                <Typography variant=\"body2\" color=\"primary\">\r\n                  Fotografie selectata: {selectedPhoto.name}\r\n                </Typography>\r\n              </Box>\r\n            )}\r\n            \r\n            <Box display=\"flex\" gap={2} justifyContent=\"center\">\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={handlePhotoUpload}\r\n                disabled={!selectedPhoto || uploadingPhoto}\r\n                color=\"primary\"\r\n              >\r\n                {uploadingPhoto ? 'Se incarca...' : 'Incarca'}\r\n              </Button>\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={() => {\r\n                  setShowPhotoUpload(false);\r\n                  setSelectedPhoto(null);\r\n                }}\r\n              >\r\n                Anuleaza\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      )}\r\n\r\n      {/* Success Message */}\r\n      {successMessage && (\r\n        <Alert \r\n          severity=\"success\" \r\n          onClose={() => setSuccessMessage('')}\r\n          sx={{ position: 'fixed', top: 20, right: 20, zIndex: 9999 }}\r\n        >\r\n          {successMessage}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Scutire Form Dialog */}\r\n      <ScutireForm\r\n        open={showScutireForm}\r\n        onClose={() => setShowScutireForm(false)}\r\n        onSuccess={setSuccessMessage}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}