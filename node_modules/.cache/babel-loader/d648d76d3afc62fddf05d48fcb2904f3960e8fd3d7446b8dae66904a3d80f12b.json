{"ast":null,"code":"import React,{useRef,useState}from'react';import{Box,Button,Typography,Paper}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DigitalSignature(_ref){let{onSave,onCancel}=_ref;const canvasRef=useRef(null);const[isDrawing,setIsDrawing]=useState(false);const[hasSignature,setHasSignature]=useState(false);const startDrawing=e=>{setIsDrawing(true);const canvas=canvasRef.current;const rect=canvas.getBoundingClientRect();const ctx=canvas.getContext('2d');ctx.beginPath();ctx.moveTo(e.clientX-rect.left,e.clientY-rect.top);};const draw=e=>{if(!isDrawing)return;const canvas=canvasRef.current;const rect=canvas.getBoundingClientRect();const ctx=canvas.getContext('2d');ctx.lineTo(e.clientX-rect.left,e.clientY-rect.top);ctx.stroke();setHasSignature(true);};const stopDrawing=()=>{setIsDrawing(false);};const clearSignature=()=>{const canvas=canvasRef.current;const ctx=canvas.getContext('2d');ctx.clearRect(0,0,canvas.width,canvas.height);setHasSignature(false);};const saveSignature=()=>{const canvas=canvasRef.current;const signatureData=canvas.toDataURL('image/png');onSave(signatureData);};return/*#__PURE__*/_jsxs(Box,{maxWidth:600,mx:\"auto\",mt:4,p:3,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",align:\"center\",gutterBottom:true,children:\"Semn\\u0103tur\\u0103 Digital\\u0103\"}),/*#__PURE__*/_jsxs(Paper,{sx:{p:3,mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",align:\"center\",gutterBottom:true,children:\"Semneaz\\u0103 \\xEEn caseta de mai jos pentru a confirma \\xEEnregistrarea ca voluntar\"}),/*#__PURE__*/_jsx(Box,{sx:{border:'2px dashed #ccc',borderRadius:2,p:2,mb:2,backgroundColor:'#fafafa'},children:/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:500,height:200,style:{border:'1px solid #ddd',borderRadius:4,backgroundColor:'white',cursor:'crosshair'},onMouseDown:startDrawing,onMouseMove:draw,onMouseUp:stopDrawing,onMouseLeave:stopDrawing})}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"center\",gap:2,children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:clearSignature,disabled:!hasSignature,children:\"\\u0218terge\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:saveSignature,disabled:!hasSignature,children:\"Salveaz\\u0103 Semn\\u0103tura\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"secondary\",onClick:onCancel,children:\"Anuleaz\\u0103\"})]})]})]});}","map":{"version":3,"names":["React","useRef","useState","Box","Button","Typography","Paper","jsx","_jsx","jsxs","_jsxs","DigitalSignature","_ref","onSave","onCancel","canvasRef","isDrawing","setIsDrawing","hasSignature","setHasSignature","startDrawing","e","canvas","current","rect","getBoundingClientRect","ctx","getContext","beginPath","moveTo","clientX","left","clientY","top","draw","lineTo","stroke","stopDrawing","clearSignature","clearRect","width","height","saveSignature","signatureData","toDataURL","maxWidth","mx","mt","p","children","variant","align","gutterBottom","sx","mb","border","borderRadius","backgroundColor","ref","style","cursor","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","display","justifyContent","gap","onClick","disabled","color"],"sources":["C:/Users/trand/Documents/site_crr/site/src/components/DigitalSignature.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport { Box, Button, Typography, Paper } from '@mui/material';\r\n\r\nexport default function DigitalSignature({ onSave, onCancel }) {\r\n  const canvasRef = useRef(null);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [hasSignature, setHasSignature] = useState(false);\r\n\r\n  const startDrawing = (e) => {\r\n    setIsDrawing(true);\r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    ctx.beginPath();\r\n    ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);\r\n  };\r\n\r\n  const draw = (e) => {\r\n    if (!isDrawing) return;\r\n    \r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const ctx = canvas.getContext('2d');\r\n    \r\n    ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);\r\n    ctx.stroke();\r\n    setHasSignature(true);\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    setIsDrawing(false);\r\n  };\r\n\r\n  const clearSignature = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    setHasSignature(false);\r\n  };\r\n\r\n  const saveSignature = () => {\r\n    const canvas = canvasRef.current;\r\n    const signatureData = canvas.toDataURL('image/png');\r\n    onSave(signatureData);\r\n  };\r\n\r\n  return (\r\n    <Box maxWidth={600} mx=\"auto\" mt={4} p={3}>\r\n      <Typography variant=\"h5\" align=\"center\" gutterBottom>\r\n        Semnătură Digitală\r\n      </Typography>\r\n      \r\n      <Paper sx={{ p: 3, mb: 3 }}>\r\n        <Typography variant=\"body1\" align=\"center\" gutterBottom>\r\n          Semnează în caseta de mai jos pentru a confirma înregistrarea ca voluntar\r\n        </Typography>\r\n        \r\n        <Box\r\n          sx={{\r\n            border: '2px dashed #ccc',\r\n            borderRadius: 2,\r\n            p: 2,\r\n            mb: 2,\r\n            backgroundColor: '#fafafa'\r\n          }}\r\n        >\r\n          <canvas\r\n            ref={canvasRef}\r\n            width={500}\r\n            height={200}\r\n            style={{\r\n              border: '1px solid #ddd',\r\n              borderRadius: 4,\r\n              backgroundColor: 'white',\r\n              cursor: 'crosshair'\r\n            }}\r\n            onMouseDown={startDrawing}\r\n            onMouseMove={draw}\r\n            onMouseUp={stopDrawing}\r\n            onMouseLeave={stopDrawing}\r\n          />\r\n        </Box>\r\n        \r\n        <Box display=\"flex\" justifyContent=\"center\" gap={2}>\r\n          <Button\r\n            variant=\"outlined\"\r\n            onClick={clearSignature}\r\n            disabled={!hasSignature}\r\n          >\r\n            Șterge\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={saveSignature}\r\n            disabled={!hasSignature}\r\n          >\r\n            Salvează Semnătura\r\n          </Button>\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"secondary\"\r\n            onClick={onCancel}\r\n          >\r\n            Anulează\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}